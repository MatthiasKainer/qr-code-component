import r,{html as t,css as n}from"lit-element";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},o={};!function(t){Object.defineProperty(t,"t",{value:!0});var n=r;const o=r=>(r=>void 0!==r&&void 0!==r.props)(r)?(r.props||[]).reduce((r,t)=>(Object.entries(t).forEach(([t,n])=>r[t]=n),r),{}):(r=>Object.entries(r).reduce((r,[t,n])=>(r[t]=function(r){return"boolean"==typeof r?{type:Boolean}:Array.isArray(r)?{type:Array}:"object"==typeof r?{type:Object}:{}}(n),r),{}))((null==r?void 0:r.defaults)||{}),a={};var u="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},i={},c={};Object.defineProperty(c,"t",{value:!0}),c.shallowClone=void 0,c.shallowClone=function(r){return"object"!=typeof r||!r||r instanceof Date||r instanceof RegExp?r:Array.isArray(r)?[...r]:Object.assign({},r)};var f={};function v(r){if(!r.dispatchEvent||!r.requestUpdate)throw new Error("Element missing required functions (dispatchEvent/requestUpdate)");return r}function s(r){const t=r;if(t.o)return t;const n=v(r),e=n.updated;return t.o={index:0,count:0,states:[],reducers:[]},n.updated=r=>(t.o.index=0,e(r)),t}Object.defineProperty(f,"t",{value:!0}),f.withReducer=f.withState=f.decorate=f.asUpdateableLitElement=void 0,f.asUpdateableLitElement=v,f.decorate=s,f.withState=function(r,t,n={}){const e=s(r),{index:o,count:a}=e.o;return o===a?(e.o.index++,e.o.count++,e.o.states.push(t),t):(e.o.index++,n.updateDefault&&e.o.states[o].inject(t.getState()),e.o.states[o])},f.withReducer=function(r,t){const n=s(r),{index:e,count:o,reducers:a}=n.o;return e!==o||a[e-1]?n.o.reducers[e-1]:(n.o.reducers[e-1]=t,t)};var l=u&&u.u||function(r,t,n,e){return new(n||(n=Promise))((function(o,a){function u(r){try{c(e.next(r))}catch(r){a(r)}}function i(r){try{c(e.throw(r))}catch(r){a(r)}}function c(r){var t;r.done?o(r.value):(t=r.value,t instanceof n?t:new n((function(r){r(t)}))).then(u,i)}c((e=e.apply(r,t||[])).next())}))};Object.defineProperty(i,"t",{value:!0}),i.useState=void 0;const d=c,b=f;i.useState=(r,t,n={})=>{let e=d.shallowClone(t);const o=[()=>r.requestUpdate()];return b.withState(r,{publish:r=>l(void 0,void 0,void 0,(function*(){e!==r&&(e=d.shallowClone(r),o.forEach(r=>r(e)))})),subscribe:r=>o.push(r),getState:()=>e,inject:r=>{e=r}},n)};var g={};Object.defineProperty(g,"t",{value:!0}),g.useReducer=void 0;const h=i,w=f;g.useReducer=(r,t,n,e={})=>{const{getState:o,publish:a}=h.useState(r,n,e),u=[];return w.withReducer(r,{getState:o,subscribe:r=>u.push(r),when:(r,t)=>u.push((n,e)=>n===r&&t(e)),publish:(n,i)=>{const c=t(o());c[n]&&(a(c[n](i)),u.forEach(r=>r(n,o())),e.dispatchEvent&&r.dispatchEvent(new CustomEvent(n,{detail:o()})))}})},function(r){Object.defineProperty(r,"t",{value:!0});var t=i;Object.defineProperty(r,"useState",{enumerable:!0,get:function(){return t.useState}});var n=g;Object.defineProperty(r,"useReducer",{enumerable:!0,get:function(){return n.useReducer}})}({});var p={},y={};function m(r){if(!r.dispatchEvent||!r.requestUpdate)throw new Error("Element missing required functions (dispatchEvent/requestUpdate)");return r}function j(r){const t=r;if(t.i)return t;const n=m(r),e=n.updated;return t.i={index:0,count:0,effects:[]},n.updated=r=>(t.i.index=0,e(r)),t}Object.defineProperty(y,"t",{value:!0}),y.withEffect=y.decorate=y.asUpdateableLitElement=void 0,y.asUpdateableLitElement=m,y.decorate=j,y.withEffect=function(r,t){const n=j(r),{index:e,count:o}=n.i;return e===o?(n.i.index++,n.i.count++,n.i.effects.push(t),t):(n.i.index++,n.i.effects[e])},Object.defineProperty(p,"t",{value:!0}),p.useOnce=p.useEffect=void 0;const O=y;function F(r,t,n){const e=O.withEffect(r,{on:t,observe:["__initial__dirty"]});e.observe.some((r,t)=>n[t]!==r)&&e.on(),e.observe=n}p.useEffect=F,p.useOnce=(r,t)=>F(r,t,[]),function(r){Object.defineProperty(r,"t",{value:!0});var t=p;Object.defineProperty(r,"useEffect",{enumerable:!0,get:function(){return t.useEffect}}),Object.defineProperty(r,"useOnce",{enumerable:!0,get:function(){return t.useOnce}})}({}),t.pureLit=(r,t,e)=>{if(a[r])return a[r];class u extends n.LitElement{static get properties(){return o(e)}static get styles(){return null==e?void 0:e.styles}constructor(){super(),(r=>void 0!==r&&void 0!==r.defaults)(e)&&Object.entries(e.defaults).forEach(([r,t])=>{this[r]=t})}render(){return t(this)}}customElements.define(r,u);const i=document.createElement(r);return a[r]=i,i}}(o),
/*!
 * @see {@link https://github.com/englishextra/qrjs2}
 * modified qr.js -- QR code generator in Javascript (revision 2011-01-19)
 * Written by Kang Seonghoon <public+qrjs@mearie.org>.
 * v0.0.20110119
 * This source code is in the public domain; if your jurisdiction does not
 * recognize the public domain the terms of Creative Commons CC0 license
 * apply. In the other words, you can always do what you want.
 * added options properties: fillcolor and textcolor
 * svg now works in Edge 13 and IE 11
 * @see {@link https://gist.github.com/englishextra/b46969e3382ef737c611bb59d837220b}
 * @see {@link https://github.com/lifthrasiir/qr.js/blob/v0.0.20110119/qr.js}
 * @params {String} data
 * @params {Object} settings object
 * element = QRCode.generateSVG(data, settings)
 * passes jshint with suppressing comments
 */
function(r,t){for(var n="length",e=[null,[[10,7,17,13],[1,1,1,1],[]],[[16,10,28,22],[1,1,1,1],[4,16]],[[26,15,22,18],[1,1,2,2],[4,20]],[[18,20,16,26],[2,1,4,2],[4,24]],[[24,26,22,18],[2,1,4,4],[4,28]],[[16,18,28,24],[4,2,4,4],[4,32]],[[18,20,26,18],[4,2,5,6],[4,20,36]],[[22,24,26,22],[4,2,6,6],[4,22,40]],[[22,30,24,20],[5,2,8,8],[4,24,44]],[[26,18,28,24],[5,4,8,8],[4,26,48]],[[30,20,24,28],[5,4,11,8],[4,28,52]],[[22,24,28,26],[8,4,11,10],[4,30,56]],[[22,26,22,24],[9,4,16,12],[4,32,60]],[[24,30,24,20],[9,4,16,16],[4,24,44,64]],[[24,22,24,30],[10,6,18,12],[4,24,46,68]],[[28,24,30,24],[10,6,16,17],[4,24,48,72]],[[28,28,28,28],[11,6,19,16],[4,28,52,76]],[[26,30,28,28],[13,6,21,18],[4,28,54,80]],[[26,28,26,26],[14,7,25,21],[4,28,56,84]],[[26,28,28,30],[16,8,25,20],[4,32,60,88]],[[26,28,30,28],[17,8,25,23],[4,26,48,70,92]],[[28,28,24,30],[17,9,34,23],[4,24,48,72,96]],[[28,30,30,30],[18,9,30,25],[4,28,52,76,100]],[[28,30,30,30],[20,10,32,27],[4,26,52,78,104]],[[28,26,30,30],[21,12,35,29],[4,30,56,82,108]],[[28,28,30,28],[23,12,37,34],[4,28,56,84,112]],[[28,30,30,30],[25,12,40,34],[4,32,60,88,116]],[[28,30,30,30],[26,13,42,35],[4,24,48,72,96,120]],[[28,30,30,30],[28,14,45,38],[4,28,52,76,100,124]],[[28,30,30,30],[29,15,48,40],[4,24,50,76,102,128]],[[28,30,30,30],[31,16,51,43],[4,28,54,80,106,132]],[[28,30,30,30],[33,17,54,45],[4,32,58,84,110,136]],[[28,30,30,30],[35,18,57,48],[4,28,56,84,112,140]],[[28,30,30,30],[37,19,60,51],[4,32,60,88,116,144]],[[28,30,30,30],[38,19,63,53],[4,28,52,76,100,124,148]],[[28,30,30,30],[40,20,66,56],[4,22,48,74,100,126,152]],[[28,30,30,30],[43,21,70,59],[4,26,52,78,104,130,156]],[[28,30,30,30],[45,22,74,62],[4,30,56,82,108,134,160]],[[28,30,30,30],[47,24,77,65],[4,24,52,80,108,136,164]],[[28,30,30,30],[49,25,81,68],[4,28,56,84,112,140,168]]],o=/^\d*$/,a=/^[A-Za-z0-9 $%*+\-./:]*$/,u=/^[A-Z0-9 $%*+\-./:]*$/,i=[],c=[-1],f=0,v=1;f<255;++f)i.push(v),c[v]=f,v=2*v^(v>=128?285:0);for(var s=[[]],l=0;l<30;++l){for(var d=s[l],b=[],g=0;g<=l;++g){var h=g<l?i[d[g]]:0,w=i[(l+(d[g-1]||0))%255];b.push(c[h^w])}s.push(b)}for(var p={},y=0;y<45;++y)p["0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:".charAt(y)]=y;var m=[function(r,t){return(r+t)%2==0},function(r){return r%2==0},function(r,t){return t%3==0},function(r,t){return(r+t)%3==0},function(r,t){return((r/2|0)+(t/3|0))%2==0},function(r,t){return r*t%2+r*t%3==0},function(r,t){return(r*t%2+r*t%3)%2==0},function(r,t){return((r+t)%2+r*t%3)%2==0}],j=function(r){return r>6},O=function(r,t){var o=-8&function(r){var t=e[r],o=16*r*r+128*r+64;return j(r)&&(o-=36),t[2][n]&&(o-=25*t[2][n]*t[2][n]-10*t[2][n]-55),o}(r),a=e[r];return o-=8*a[0][t]*a[1][t]},F=function(r,t){switch(t){case 1:return r<10?10:r<27?12:14;case 2:return r<10?9:r<27?11:13;case 4:return r<10?8:16;case 8:return r<10?8:r<27?10:12}},x=function(r,t,n){var e=O(r,n)-4-F(r,t);switch(t){case 1:return 3*(e/10|0)+(e%10<4?0:e%10<7?1:2);case 2:return 2*(e/11|0)+(e%11<6?0:1);case 4:return e/8|0;case 8:return e/13|0}},E=function(r,t){for(var e=r.slice(0),o=r[n],a=t[n],u=0;u<a;++u)e.push(0);for(var f=0;f<o;){var v=c[e[f++]];if(v>=0)for(var s=0;s<a;++s)e[f+s]^=i[(v+t[s])%255]}return e.slice(o)},k=function(r,t,n,e){for(var o=r<<e,a=t-1;a>=0;--a)o>>e+a&1&&(o^=n<<a);return r<<e|o},q=function(r,t,e){for(var o=m[e],a=r[n],u=0;u<a;++u)for(var i=0;i<a;++i)t[u][i]||(r[u][i]^=o(u,i));return r},M=function(r,t,e,o){for(var a=r[n],u=21522^k(e<<3|o,5,1335,10),i=0;i<15;++i){var c=[a-1,a-2,a-3,a-4,a-5,a-6,a-7,a-8,7,5,4,3,2,1,0][i];r[[0,1,2,3,4,5,7,8,a-7,a-6,a-5,a-4,a-3,a-2,a-1][i]][8]=r[8][c]=u>>i&1}return r},$=function(r){for(var t=function(r){for(var t=0,e=0;e<r[n];++e)r[e]>=5&&(t+=r[e]-5+3);for(var o=5;o<r[n];o+=2){var a=r[o];r[o-1]===a&&r[o-2]===3*a&&r[o-3]===a&&r[o-4]===a&&(r[o-5]>=4*a||r[o+1]>=4*a)&&(t+=40)}return t},e=r[n],o=0,a=0,u=0;u<e;++u){var i,c=r[u];i=[0];for(var f=0;f<e;){var v;for(v=0;f<e&&c[f];++v)++f;for(i.push(v),v=0;f<e&&!c[f];++v)++f;i.push(v)}o+=t(i),i=[0];for(var s=0;s<e;){var l;for(l=0;s<e&&r[s][u];++l)++s;for(i.push(l),l=0;s<e&&!r[s][u];++l)++s;i.push(l)}o+=t(i);var d=r[u+1]||[];a+=c[0];for(var b=1;b<e;++b){var g=c[b];a+=g,c[b-1]===g&&d[b]===g&&d[b-1]===g&&(o+=3)}}return o+=10*(Math.abs(a/e/e-.5)/.05|0)},C=function(r,t,o,a,u){var i=e[t],c=function(r,t,e,o){var a=[],u=0,i=8,c=e[n],f=function(r,t){if(t>=i){for(a.push(u|r>>(t-=i));t>=8;)a.push(r>>(t-=8)&255);u=0,i=8}t>0&&(u|=(r&(1<<t)-1)<<(i-=t))},v=F(r,t);switch(f(t,4),f(c,v),t){case 1:for(var s=2;s<c;s+=3)f(parseInt(e.substring(s-2,s+1),10),10);f(parseInt(e.substring(s-2),10),[0,4,7][c%3]);break;case 2:for(var l=1;l<c;l+=2)f(45*p[e.charAt(l-1)]+p[e.charAt(l)],11);c%2==1&&f(p[e.charAt(l-1)],6);break;case 4:for(var d=0;d<c;++d)f(e[d],8)}for(f(0,4),i<8&&a.push(u);a[n]+1<o;)a.push(236,17);return a[n]<o&&a.push(236),a}(t,o,r,O(t,a)>>3);c=function(r,t,e){for(var o=[],a=r[n]/t|0,u=0,i=t-r[n]%t,c=0;c<i;++c)o.push(u),u+=a;for(var f=i;f<t;++f)o.push(u),u+=a+1;o.push(u);for(var v=[],s=0;s<t;++s)v.push(E(r.slice(o[s],o[s+1]),e));for(var l=[],d=r[n]/t|0,b=0;b<d;++b)for(var g=0;g<t;++g)l.push(r[o[g]+b]);for(var h=i;h<t;++h)l.push(r[o[h+1]-1]);for(var w=0;w<e[n];++w)for(var p=0;p<t;++p)l.push(v[p][w]);return l}(c,i[1][a],s[i[0][a]]);var f=function(r){for(var t=e[r],o=function(r){return 4*r+17}(r),a=[],u=[],i=0;i<o;++i)a.push([]),u.push([]);var c=function(r,t,n,e,o){for(var i=0;i<n;++i)for(var c=0;c<e;++c)a[r+i][t+c]=o[i]>>c&1,u[r+i][t+c]=1};c(0,0,9,9,[127,65,93,93,93,65,383,0,64]),c(o-8,0,8,9,[256,127,65,93,93,93,65,127]),c(0,o-8,9,8,[254,130,186,186,186,130,254,0,0]);for(var f=9;f<o-8;++f)a[6][f]=a[f][6]=1&~f,u[6][f]=u[f][6]=1;for(var v=t[2],s=v[n],l=0;l<s;++l)for(var d=0===l?s-1:s,b=0===l||l===s-1?1:0;b<d;++b)c(v[l],v[b],5,5,[31,17,21,17,31]);if(j(r))for(var g=k(r,6,7973,12),h=0,w=0;w<6;++w)for(var p=0;p<3;++p)a[w][o-11+p]=a[o-11+p][w]=g>>h++&1,u[w][o-11+p]=u[o-11+p][w]=1;return{matrix:a,reserved:u}}(t),v=f.matrix,l=f.reserved;if(function(r,t,e){for(var o=r[n],a=0,u=-1,i=o-1;i>=0;i-=2){6===i&&--i;for(var c=u<0?o-1:0,f=0;f<o;++f){for(var v=i;v>i-2;--v)t[c][v]||(r[c][v]=e[a>>3]>>(7&~a)&1,++a);c+=u}u=-u}}(v,l,c),u<0){q(v,l,0),M(v,0,a,0);var d=0,b=$(v);for(q(v,l,0),u=1;u<8;++u){q(v,l,u),M(v,0,a,u);var g=$(v);b>g&&(b=g,d=u),q(v,l,u)}u=d}return q(v,l,u),M(v,0,a,u),v},T={generate:function(r,t){var e=t||{},i={numeric:1,alphanumeric:2,octet:4},c={L:1,M:0,Q:3,H:2},f=e.version||-1,v=c[(e.ecclevel||"L").toUpperCase()],s=e.mode?i[e.mode.toLowerCase()]:-1,l="mask"in e?e.mask:-1;if(s<0)s="string"==typeof r?r.match(o)?1:r.match(u)?2:4:4;else if(1!==s&&2!==s&&4!==s)throw"invalid or unsupported mode";if(null===(r=function(r,t){switch(r){case 1:return t.match(o)?t:null;case 2:return t.match(a)?t.toUpperCase():null;case 4:if("string"==typeof t){for(var e=[],u=0;u<t[n];++u){var i=t.charCodeAt(u);i<128?e.push(i):i<2048?e.push(192|i>>6,128|63&i):i<65536?e.push(224|i>>12,128|i>>6&63,128|63&i):e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)}return e}return t}}(s,r)))throw"invalid data format";if(v<0||v>3)throw"invalid ECC level";if(f<0){for(f=1;f<=40&&!(r[n]<=x(f,s,v));++f);if(f>40)throw"too large data"}else if(f<1||f>40)throw"invalid version";if(-1!==l&&(l<0||l>8))throw"invalid mask";return C(r,f,s,v,l)},generateHTML:function(r,e){for(var o=e||{},a=o.fillcolor?o.fillcolor:"#FFFFFF",u=o.textcolor?o.textcolor:"#000000",i=T.generate(r,o),c=Math.max(o.modulesize||5,.5),f=Math.max(null!==o.margin?o.margin:4,0),v=t.createElement("div"),s=i[n],l=['<table border="0" cellspacing="0" cellpadding="0" style="border:'+c*f+"px solid "+a+";background:"+a+'">'],d=0;d<s;++d){l.push("<tr>");for(var b=0;b<s;++b)l.push('<td style="width:'+c+"px;height:"+c+"px"+(i[d][b]?";background:"+u:"")+'"></td>');l.push("</tr>")}v.className="qrcode";var g=t.createRange();g.selectNodeContents(v);var h=g.createContextualFragment(l.join("")+"</table>");return v.appendChild(h),v},generateSVG:function(r,e){var o=e||{},a=o.fillcolor?o.fillcolor:"#FFFFFF",u=o.textcolor?o.textcolor:"#000000",i=T.generate(r,o),c=i[n],f=Math.max(o.modulesize||5,.5),v=Math.max(o.margin?o.margin:4,0),s=f*(c+2*v),l=t.createElementNS("http://www.w3.org/2000/svg","svg");l.setAttributeNS(null,"viewBox","0 0 "+s+" "+s),l.setAttributeNS(null,"style","shape-rendering:crispEdges");var d="qrcode"+Date.now();l.setAttributeNS(null,"id",d);var b=t.createDocumentFragment(),g=t.createElementNS("http://www.w3.org/2000/svg","style");g.appendChild(t.createTextNode("#"+d+" .bg{fill:"+a+"}#"+d+" .fg{fill:"+u+"}")),b.appendChild(g);var h=function(r,n,e,o,a){var u=t.createElementNS("http://www.w3.org/2000/svg","rect")||"";return u.setAttributeNS(null,"class",r),u.setAttributeNS(null,"fill",n),u.setAttributeNS(null,"x",e),u.setAttributeNS(null,"y",o),u.setAttributeNS(null,"width",a),u.setAttributeNS(null,"height",a),u};b.appendChild(h("bg","none",0,0,s));for(var w=v*f,p=0;p<c;++p){for(var y=v*f,m=0;m<c;++m)i[p][m]&&b.appendChild(h("fg","none",y,w,f)),y+=f;w+=f}return l.appendChild(b),l},generatePNG:function(r,e){var o,a=e||{},u=a.fillcolor||"#FFFFFF",i=a.textcolor||"#000000",c=T.generate(r,a),f=Math.max(a.modulesize||5,.5),v=Math.max(null!==a.margin&&void 0!==a.margin?a.margin:4,0),s=c[n],l=f*(s+2*v),d=t.createElement("canvas");if(d.width=d.height=l,!(o=d.getContext("2d")))throw"canvas support is needed for PNG output";o.fillStyle=u,o.fillRect(0,0,l,l),o.fillStyle=i;for(var b=0;b<s;++b)for(var g=0;g<s;++g)c[b][g]&&o.fillRect(f*(v+g),f*(v+b),f,f);return d.toDataURL()}};r.QRCode=T}("undefined"!=typeof window?window:void 0,document);const a=n`
:host {
  display: block;
  width: 100%;
  height: 100%;
}
.qrCanvas {
  background-size:cover;
  background-size: contain;
  background-position: center center;
  background-repeat: no-repeat;
  width: 100%;
  height: 100%;
}
`;var u=o.pureLit("qr-code",r=>{const n=o.useState(r,r.text);o.useOnce(r,()=>window.addEventListener("message",r=>{const{type:t,text:e}=r.data;r.origin===window.location.origin&&r.source===window&&e&&"qr-code.changeText"===t&&n.publish(e)},!1));const e=n.getState();return e?t`<div class="qrCanvas" 
    title="${e}" 
    style="background-image:url('${QRCode.generatePNG(e,{})}')"></div>`:t``},{styles:a,defaults:{text:""}});export default u;
