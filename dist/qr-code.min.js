import{LitElement as r,html as n,css as t,property as e,customElement as o}from"https://unpkg.com/lit-element?module";
/*!
 * modified qr.js -- QR code generator in Javascript (revision 2011-01-19)
 * Written by Kang Seonghoon <public+qrjs@mearie.org>.
 * v0.0.20110119
 * This source code is in the public domain; if your jurisdiction does not
 * recognize the public domain the terms of Creative Commons CC0 license
 * apply. In the other words, you can always do what you want.
 * added options properties: fillcolor and textcolor
 * svg now works in Edge 13 and IE 11
 * @see {@link https://gist.github.com/englishextra/b46969e3382ef737c611bb59d837220b}
 * @see {@link https://github.com/lifthrasiir/qr.js/blob/v0.0.20110119/qr.js}
 * passes jshint with suppressing comments
 */!function(r,n){for(var t="length",e=[null,[[10,7,17,13],[1,1,1,1],[]],[[16,10,28,22],[1,1,1,1],[4,16]],[[26,15,22,18],[1,1,2,2],[4,20]],[[18,20,16,26],[2,1,4,2],[4,24]],[[24,26,22,18],[2,1,4,4],[4,28]],[[16,18,28,24],[4,2,4,4],[4,32]],[[18,20,26,18],[4,2,5,6],[4,20,36]],[[22,24,26,22],[4,2,6,6],[4,22,40]],[[22,30,24,20],[5,2,8,8],[4,24,44]],[[26,18,28,24],[5,4,8,8],[4,26,48]],[[30,20,24,28],[5,4,11,8],[4,28,52]],[[22,24,28,26],[8,4,11,10],[4,30,56]],[[22,26,22,24],[9,4,16,12],[4,32,60]],[[24,30,24,20],[9,4,16,16],[4,24,44,64]],[[24,22,24,30],[10,6,18,12],[4,24,46,68]],[[28,24,30,24],[10,6,16,17],[4,24,48,72]],[[28,28,28,28],[11,6,19,16],[4,28,52,76]],[[26,30,28,28],[13,6,21,18],[4,28,54,80]],[[26,28,26,26],[14,7,25,21],[4,28,56,84]],[[26,28,28,30],[16,8,25,20],[4,32,60,88]],[[26,28,30,28],[17,8,25,23],[4,26,48,70,92]],[[28,28,24,30],[17,9,34,23],[4,24,48,72,96]],[[28,30,30,30],[18,9,30,25],[4,28,52,76,100]],[[28,30,30,30],[20,10,32,27],[4,26,52,78,104]],[[28,26,30,30],[21,12,35,29],[4,30,56,82,108]],[[28,28,30,28],[23,12,37,34],[4,28,56,84,112]],[[28,30,30,30],[25,12,40,34],[4,32,60,88,116]],[[28,30,30,30],[26,13,42,35],[4,24,48,72,96,120]],[[28,30,30,30],[28,14,45,38],[4,28,52,76,100,124]],[[28,30,30,30],[29,15,48,40],[4,24,50,76,102,128]],[[28,30,30,30],[31,16,51,43],[4,28,54,80,106,132]],[[28,30,30,30],[33,17,54,45],[4,32,58,84,110,136]],[[28,30,30,30],[35,18,57,48],[4,28,56,84,112,140]],[[28,30,30,30],[37,19,60,51],[4,32,60,88,116,144]],[[28,30,30,30],[38,19,63,53],[4,28,52,76,100,124,148]],[[28,30,30,30],[40,20,66,56],[4,22,48,74,100,126,152]],[[28,30,30,30],[43,21,70,59],[4,26,52,78,104,130,156]],[[28,30,30,30],[45,22,74,62],[4,30,56,82,108,134,160]],[[28,30,30,30],[47,24,77,65],[4,24,52,80,108,136,164]],[[28,30,30,30],[49,25,81,68],[4,28,56,84,112,140,168]]],o=/^\d*$/,a=/^[A-Za-z0-9 $%*+\-./:] * $ /,f=/^[A-Z0-9 $%*+\-./:] * $ /,i=[],u=[-1],v=0,c=1;v<255;++v)i.push(c),u[c]=v,c=2*c^(c>=128?285:0);for(var l=[[]],s=0;s<30;++s){for(var d=l[s],h=[],g=0;g<=s;++g){var w=g<s?i[d[g]]:0,p=i[(s+(d[g-1]||0))%255];h.push(u[w^p])}l.push(h)}for(var F={},b=0;b<45;++b)F["0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:".charAt(b)]=b;var m=[function(r,n){return(r+n)%2==0},function(r){return r%2==0},function(r,n){return n%3==0},function(r,n){return(r+n)%3==0},function(r,n){return((r/2|0)+(n/3|0))%2==0},function(r,n){return r*n%2+r*n%3==0},function(r,n){return(r*n%2+r*n%3)%2==0},function(r,n){return((r+n)%2+r*n%3)%2==0}],k=function(r){return r>6},x=function(r,n){var o=-8&function(r){var n=e[r],o=16*r*r+128*r+64;return k(r)&&(o-=36),n[2][t]&&(o-=25*n[2][t]*n[2][t]-10*n[2][t]-55),o}(r),a=e[r];return o-=8*a[0][n]*a[1][n]},y=function(r,n){switch(n){case 1:return r<10?10:r<27?12:14;case 2:return r<10?9:r<27?11:13;case 4:return r<10?8:16;case 8:return r<10?8:r<27?10:12}},M=function(r,n,t){var e=x(r,t)-4-y(r,n);switch(n){case 1:return 3*(e/10|0)+(e%10<4?0:e%10<7?1:2);case 2:return 2*(e/11|0)+(e%11<6?0:1);case 4:return e/8|0;case 8:return e/13|0}},$=function(r,n){for(var e=r.slice(0),o=r[t],a=n[t],f=0;f<a;++f)e.push(0);for(var v=0;v<o;){var c=u[e[v++]];if(c>=0)for(var l=0;l<a;++l)e[v+l]^=i[(c+n[l])%255]}return e.slice(o)},q=function(r,n,t,e){for(var o=r<<e,a=n-1;a>=0;--a)o>>e+a&1&&(o^=t<<a);return r<<e|o},C=function(r,n,e){for(var o=m[e],a=r[t],f=0;f<a;++f)for(var i=0;i<a;++i)n[f][i]||(r[f][i]^=o(f,i));return r},G=function(r,n,e,o){for(var a=r[t],f=21522^q(e<<3|o,5,1335,10),i=0;i<15;++i){var u=[a-1,a-2,a-3,a-4,a-5,a-6,a-7,a-8,7,5,4,3,2,1,0][i];r[[0,1,2,3,4,5,7,8,a-7,a-6,a-5,a-4,a-3,a-2,a-1][i]][8]=r[8][u]=f>>i&1}return r},L=function(r){for(var n=function(r){for(var n=0,e=0;e<r[t];++e)r[e]>=5&&(n+=r[e]-5+3);for(var o=5;o<r[t];o+=2){var a=r[o];r[o-1]===a&&r[o-2]===3*a&&r[o-3]===a&&r[o-4]===a&&(r[o-5]>=4*a||r[o+1]>=4*a)&&(n+=40)}return n},e=r[t],o=0,a=0,f=0;f<e;++f){var i,u=r[f];i=[0];for(var v=0;v<e;){var c;for(c=0;v<e&&u[v];++c)++v;for(i.push(c),c=0;v<e&&!u[v];++c)++v;i.push(c)}o+=n(i),i=[0];for(var l=0;l<e;){var s;for(s=0;l<e&&r[l][f];++s)++l;for(i.push(s),s=0;l<e&&!r[l][f];++s)++l;i.push(s)}o+=n(i);var d=r[f+1]||[];a+=u[0];for(var h=1;h<e;++h){var g=u[h];a+=g,u[h-1]===g&&d[h]===g&&d[h-1]===g&&(o+=3)}}return o+=10*(Math.abs(a/e/e-.5)/.05|0)},z=function(r,n,o,a,f){var i=e[n],u=function(r,n,e,o){var a=[],f=0,i=8,u=e[t],v=function(r,n){if(n>=i){for(a.push(f|r>>(n-=i));n>=8;)a.push(r>>(n-=8)&255);f=0,i=8}n>0&&(f|=(r&(1<<n)-1)<<(i-=n))},c=y(r,n);switch(v(n,4),v(u,c),n){case 1:for(var l=2;l<u;l+=3)v(parseInt(e.substring(l-2,l+1),10),10);v(parseInt(e.substring(l-2),10),[0,4,7][u%3]);break;case 2:for(var s=1;s<u;s+=2)v(45*F[e.charAt(s-1)]+F[e.charAt(s)],11);u%2==1&&v(F[e.charAt(s-1)],6);break;case 4:for(var d=0;d<u;++d)v(e[d],8)}for(v(0,4),i<8&&a.push(f);a[t]+1<o;)a.push(236,17);return a[t]<o&&a.push(236),a}(n,o,r,x(n,a)>>3);u=function(r,n,e){for(var o=[],a=r[t]/n|0,f=0,i=n-r[t]%n,u=0;u<i;++u)o.push(f),f+=a;for(var v=i;v<n;++v)o.push(f),f+=a+1;o.push(f);for(var c=[],l=0;l<n;++l)c.push($(r.slice(o[l],o[l+1]),e));for(var s=[],d=r[t]/n|0,h=0;h<d;++h)for(var g=0;g<n;++g)s.push(r[o[g]+h]);for(var w=i;w<n;++w)s.push(r[o[w+1]-1]);for(var p=0;p<e[t];++p)for(var F=0;F<n;++F)s.push(c[F][p]);return s}(u,i[1][a],l[i[0][a]]);var v=function(r){for(var n=e[r],o=function(r){return 4*r+17}(r),a=[],f=[],i=0;i<o;++i)a.push([]),f.push([]);var u=function(r,n,t,e,o){for(var i=0;i<t;++i)for(var u=0;u<e;++u)a[r+i][n+u]=o[i]>>u&1,f[r+i][n+u]=1};u(0,0,9,9,[127,65,93,93,93,65,383,0,64]),u(o-8,0,8,9,[256,127,65,93,93,93,65,127]),u(0,o-8,9,8,[254,130,186,186,186,130,254,0,0]);for(var v=9;v<o-8;++v)a[6][v]=a[v][6]=1&~v,f[6][v]=f[v][6]=1;for(var c=n[2],l=c[t],s=0;s<l;++s)for(var d=0===s?l-1:l,h=0===s||s===l-1?1:0;h<d;++h)u(c[s],c[h],5,5,[31,17,21,17,31]);if(k(r))for(var g=q(r,6,7973,12),w=0,p=0;p<6;++p)for(var F=0;F<3;++F)a[p][o-11+F]=a[o-11+F][p]=g>>w++&1,f[p][o-11+F]=f[o-11+F][p]=1;return{matrix:a,reserved:f}}(n),c=v.matrix,s=v.reserved;if(function(r,n,e){for(var o=r[t],a=0,f=-1,i=o-1;i>=0;i-=2){6===i&&--i;for(var u=f<0?o-1:0,v=0;v<o;++v){for(var c=i;c>i-2;--c)n[u][c]||(r[u][c]=e[a>>3]>>(7&~a)&1,++a);u+=f}f=-f}}(c,s,u),f<0){C(c,s,0),G(c,0,a,0);var d=0,h=L(c);for(C(c,s,0),f=1;f<8;++f){C(c,s,f),G(c,0,a,f);var g=L(c);h>g&&(h=g,d=f),C(c,s,f)}f=d}return C(c,s,f),G(c,0,a,f),c},A={generate:function(r,n){var e=n||{},i={numeric:1,alphanumeric:2,octet:4},u={L:1,M:0,Q:3,H:2},v=e.version||-1,c=u[(e.ecclevel||"L").toUpperCase()],l=e.mode?i[e.mode.toLowerCase()]:-1,s="mask"in e?e.mask:-1;if(l<0)l="string"==typeof r?r.match(o)?1:r.match(f)?2:4:4;else if(1!==l&&2!==l&&4!==l)throw"invalid or unsupported mode";if(null===(r=function(r,n){switch(r){case 1:return n.match(o)?n:null;case 2:return n.match(a)?n.toUpperCase():null;case 4:if("string"==typeof n){for(var e=[],f=0;f<n[t];++f){var i=n.charCodeAt(f);i<128?e.push(i):i<2048?e.push(192|i>>6,128|63&i):i<65536?e.push(224|i>>12,128|i>>6&63,128|63&i):e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)}return e}return n}}(l,r)))throw"invalid data format";if(c<0||c>3)throw"invalid ECC level";if(v<0){for(v=1;v<=40&&!(r[t]<=M(v,l,c));++v);if(v>40)throw"too large data"}else if(v<1||v>40)throw"invalid version";if(-1!==s&&(s<0||s>8))throw"invalid mask";return z(r,v,l,c,s)},generateHTML:function(r,e){for(var o=e||{},a=o.fillcolor?o.fillcolor:"#FFFFFF",f=o.textcolor?o.textcolor:"#000000",i=A.generate(r,o),u=Math.max(o.modulesize||5,.5),v=Math.max(null!==o.margin?o.margin:4,0),c=n.createElement("div"),l=i[t],s=['<table border="0" cellspacing="0" cellpadding="0" style="border:'+u*v+"px solid "+a+";background:"+a+'">'],d=0;d<l;++d){s.push("<tr>");for(var h=0;h<l;++h)s.push('<td style="width:'+u+"px;height:"+u+"px"+(i[d][h]?";background:"+f:"")+'"></td>');s.push("</tr>")}c.className="qrcode";var g=n.createRange();g.selectNodeContents(c);var w=g.createContextualFragment(s.join("")+"</table>");return c.appendChild(w),c},generateSVG:function(r,e){var o=e||{},a=o.fillcolor?o.fillcolor:"#FFFFFF",f=o.textcolor?o.textcolor:"#000000",i=A.generate(r,o),u=i[t],v=Math.max(o.modulesize||5,.5),c=Math.max(o.margin?o.margin:4,0),l=v*(u+2*c),s=n.createElementNS("http://www.w3.org/2000/svg","svg");s.setAttributeNS(null,"viewBox","0 0 "+l+" "+l),s.setAttributeNS(null,"style","shape-rendering:crispEdges");var d="qrcode"+Date.now();s.setAttributeNS(null,"id",d);var h=n.createDocumentFragment(),g=n.createElementNS("http://www.w3.org/2000/svg","style");g.appendChild(n.createTextNode("#"+d+" .bg{fill:"+a+"}#"+d+" .fg{fill:"+f+"}")),h.appendChild(g);var w=function(r,t,e,o,a){var f=n.createElementNS("http://www.w3.org/2000/svg","rect")||"";return f.setAttributeNS(null,"class",r),f.setAttributeNS(null,"fill",t),f.setAttributeNS(null,"x",e),f.setAttributeNS(null,"y",o),f.setAttributeNS(null,"width",a),f.setAttributeNS(null,"height",a),f};h.appendChild(w("bg","none",0,0,l));for(var p=c*v,F=0;F<u;++F){for(var b=c*v,m=0;m<u;++m)i[F][m]&&h.appendChild(w("fg","none",b,p,v)),b+=v;p+=v}return s.appendChild(h),s},generatePNG:function(r,e){var o,a=e||{},f=a.fillcolor||"#FFFFFF",i=a.textcolor||"#000000",u=A.generate(r,a),v=Math.max(a.modulesize||5,.5),c=Math.max(null!==a.margin&&void 0!==a.margin?a.margin:4,0),l=u[t],s=v*(l+2*c),d=n.createElement("canvas");if(d.width=d.height=s,!(o=d.getContext("2d")))throw"canvas support is needed for PNG output";o.fillStyle=f,o.fillRect(0,0,s,s),o.fillStyle=i;for(var h=0;h<l;++h)for(var g=0;g<l;++g)u[h][g]&&o.fillRect(v*(c+g),v*(c+h),v,v);return d.toDataURL()}};r.QRCode=A}("undefined"!=typeof window?window:void 0,document);var a=function(r,n,t,e){for(var o,a=arguments.length,f=a<3?n:null===e?e=Object.getOwnPropertyDescriptor(n,t):e,i=r.length-1;i>=0;i--)(o=r[i])&&(f=(a<3?o(f):a>3?o(n,t,f):o(n,t))||f);return a>3&&f&&Object.defineProperty(n,t,f),f};let f=class extends r{constructor(){super(),this.text="",window.addEventListener("message",r=>{const{type:n,text:t}=r.data;r.origin===window.location.origin&&r.source===window&&t&&"qr-code.changeText"===n&&(this.text=t)},!1)}render(){return this.text?n`<div class="qrCanvas" 
      title="${this.text}" 
      style="background-image:url('${QRCode.generatePNG(this.text,{})}')"></div>`:n``}};f.styles=t`
  :host {
    display: block;
    width: 100%;
    height: 100%;
  }
  .qrCanvas {
    background-size:cover;
    background-size: contain;
    background-position: center center;
    background-repeat: no-repeat;
    width: 100%;
    height: 100%;
  }
  `,a([e()],f.prototype,"text",void 0),f=a([o("qr-code")],f);export{f as QRCodeElement};
